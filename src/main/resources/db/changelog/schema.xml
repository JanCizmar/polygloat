<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">
    <changeSet author="jenik (generated)" id="1582652303794-1">
        <createTable tableName="api_key">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="api_keyPK"/>
            </column>
            <column name="created_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="key" type="VARCHAR(255)"/>
            <column name="scopes" type="VARCHAR(255)"/>
            <column name="repository_id" type="BIGINT"/>
            <column name="user_account_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-2">
        <createTable tableName="invitation">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="invitationPK"/>
            </column>
            <column name="created_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="code" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-3">
        <createTable tableName="language">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="languagePK"/>
            </column>
            <column name="created_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="abbreviation" type="VARCHAR(255)"/>
            <column name="deleted" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="repository_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-4">
        <createTable tableName="permission">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="permissionPK"/>
            </column>
            <column name="created_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="type" type="VARCHAR(255)"/>
            <column name="invitation_id" type="BIGINT"/>
            <column name="repository_id" type="BIGINT"/>
            <column name="user_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-5">
        <createTable tableName="repository">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="repositoryPK"/>
            </column>
            <column name="created_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="deleted" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="created_by_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-6">
        <createTable tableName="source">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="sourcePK"/>
            </column>
            <column name="created_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="repository_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-7">
        <createTable tableName="translation">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="translationPK"/>
            </column>
            <column name="created_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="text" type="TEXT"/>
            <column name="language_id" type="BIGINT"/>
            <column name="source_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-8">
        <createTable tableName="user_account">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="user_accountPK"/>
            </column>
            <column name="created_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_at" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="reset_password_code" type="VARCHAR(255)"/>
            <column name="role" type="VARCHAR(255)"/>
            <column name="third_party_auth_id" type="VARCHAR(255)"/>
            <column name="third_party_auth_type" type="VARCHAR(255)"/>
            <column name="username" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-9">
        <addUniqueConstraint columnNames="repository_id, abbreviation" constraintName="UK81px5yg1ucqsijlxk3pnncfpb" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-10">
        <addUniqueConstraint columnNames="repository_id, name" constraintName="UK8y2j9ad1tpah5g4e786wyvli6" tableName="source"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-11">
        <addUniqueConstraint columnNames="third_party_auth_type, third_party_auth_id" constraintName="UKbuaqj25lrtnfvw4rfr6a8us68" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-12">
        <addUniqueConstraint columnNames="username" constraintName="UKcastjbvpeeus0r8lbpehiu0e4" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-13">
        <addUniqueConstraint columnNames="name, created_by_id" constraintName="UKecviceu2utnk423qkbx2ejony" tableName="repository"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-14">
        <addUniqueConstraint columnNames="repository_id, name" constraintName="UKfxvom47gi4qes6po1dsmhj25b" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-15">
        <addUniqueConstraint columnNames="code" constraintName="UKib8hbu2lm2peqra478nwfgrrm" tableName="invitation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-16">
        <addUniqueConstraint columnNames="source_id, language_id" constraintName="UKkyxcxq3siw777k16bvlhqydmj" tableName="translation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-17">
        <addUniqueConstraint columnNames="key" constraintName="api_key_unique" tableName="api_key"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-18">
        <addForeignKeyConstraint baseColumnNames="invitation_id" baseTableName="permission" constraintName="FK1yntjh7ggi4te3ovft3q98vjh" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="invitation" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-19">
        <addForeignKeyConstraint baseColumnNames="repository_id" baseTableName="permission" constraintName="FK4eao8empmjkh4djn65mgpo0xy" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="repository" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-20">
        <addForeignKeyConstraint baseColumnNames="repository_id" baseTableName="source" constraintName="FK4w7p5ffylu2s25r0fvcg7m16m" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="repository" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-21">
        <addForeignKeyConstraint baseColumnNames="source_id" baseTableName="translation" constraintName="FKan8l57bdrd3yfsra16gy812nh" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="source" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-22">
        <addForeignKeyConstraint baseColumnNames="language_id" baseTableName="translation" constraintName="FKc2d46w0v0yhqdf6nyel7g0b3u" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="language" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-23">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="permission" constraintName="FKd4loxn3vchrap5ulsueynd7m2" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user_account" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-24">
        <addForeignKeyConstraint baseColumnNames="repository_id" baseTableName="language" constraintName="FKk3nnt1okbdkvp7igkexvbyxnf" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="repository" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-25">
        <addForeignKeyConstraint baseColumnNames="repository_id" baseTableName="api_key" constraintName="FKl6qxgkp6jih1aup8laua5ime9" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="repository" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-26">
        <addForeignKeyConstraint baseColumnNames="created_by_id" baseTableName="repository" constraintName="FKoiov5289pveggjm2sthuhw4qm" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user_account" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1582652303794-27">
        <addForeignKeyConstraint baseColumnNames="user_account_id" baseTableName="api_key" constraintName="FKsryptvc972nlvw7we7fkr06mg" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user_account" validate="true"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-19">
        <dropColumn columnName="deleted" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-20">
        <dropColumn columnName="deleted" tableName="repository"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-1">
        <dropUniqueConstraint constraintName="UK81px5yg1ucqsijlxk3pnncfpb" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-2">
        <addUniqueConstraint columnNames="repository_id, abbreviation" constraintName="UK81px5yg1ucqsijlxk3pnncfpb" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-3">
        <dropUniqueConstraint constraintName="UK8y2j9ad1tpah5g4e786wyvli6" tableName="source"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-4">
        <addUniqueConstraint columnNames="repository_id, name" constraintName="UK8y2j9ad1tpah5g4e786wyvli6" tableName="source"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-5">
        <dropUniqueConstraint constraintName="UKbuaqj25lrtnfvw4rfr6a8us68" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-6">
        <addUniqueConstraint columnNames="third_party_auth_type, third_party_auth_id" constraintName="UKbuaqj25lrtnfvw4rfr6a8us68" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-7">
        <dropUniqueConstraint constraintName="UKcastjbvpeeus0r8lbpehiu0e4" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-8">
        <addUniqueConstraint columnNames="username" constraintName="UKcastjbvpeeus0r8lbpehiu0e4" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-9">
        <dropUniqueConstraint constraintName="UKecviceu2utnk423qkbx2ejony" tableName="repository"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-10">
        <addUniqueConstraint columnNames="name, created_by_id" constraintName="UKecviceu2utnk423qkbx2ejony" tableName="repository"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-11">
        <dropUniqueConstraint constraintName="UKfxvom47gi4qes6po1dsmhj25b" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-12">
        <addUniqueConstraint columnNames="repository_id, name" constraintName="UKfxvom47gi4qes6po1dsmhj25b" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-13">
        <dropUniqueConstraint constraintName="UKib8hbu2lm2peqra478nwfgrrm" tableName="invitation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-14">
        <addUniqueConstraint columnNames="code" constraintName="UKib8hbu2lm2peqra478nwfgrrm" tableName="invitation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-15">
        <dropUniqueConstraint constraintName="UKkyxcxq3siw777k16bvlhqydmj" tableName="translation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-16">
        <addUniqueConstraint columnNames="source_id, language_id" constraintName="UKkyxcxq3siw777k16bvlhqydmj"
                             tableName="translation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-17">
        <dropUniqueConstraint constraintName="api_key_unique" tableName="api_key"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1584656577008-18">
        <addUniqueConstraint columnNames="key" constraintName="api_key_unique" tableName="api_key"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-1">
        <dropUniqueConstraint constraintName="UK81px5yg1ucqsijlxk3pnncfpb" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-2">
        <addUniqueConstraint columnNames="repository_id, abbreviation" constraintName="UK81px5yg1ucqsijlxk3pnncfpb"
                             tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-3">
        <dropUniqueConstraint constraintName="UK8y2j9ad1tpah5g4e786wyvli6" tableName="source"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-4">
        <addUniqueConstraint columnNames="repository_id, name" constraintName="UK8y2j9ad1tpah5g4e786wyvli6"
                             tableName="source"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-5">
        <dropUniqueConstraint constraintName="UKbuaqj25lrtnfvw4rfr6a8us68" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-6">
        <addUniqueConstraint columnNames="third_party_auth_type, third_party_auth_id"
                             constraintName="UKbuaqj25lrtnfvw4rfr6a8us68" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-7">
        <dropUniqueConstraint constraintName="UKcastjbvpeeus0r8lbpehiu0e4" tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-8">
        <addUniqueConstraint columnNames="username" constraintName="UKcastjbvpeeus0r8lbpehiu0e4"
                             tableName="user_account"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-9">
        <dropUniqueConstraint constraintName="UKecviceu2utnk423qkbx2ejony" tableName="repository"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-10">
        <addUniqueConstraint columnNames="name, created_by_id" constraintName="UKecviceu2utnk423qkbx2ejony"
                             tableName="repository"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-11">
        <dropUniqueConstraint constraintName="UKfxvom47gi4qes6po1dsmhj25b" tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-12">
        <addUniqueConstraint columnNames="repository_id, name" constraintName="UKfxvom47gi4qes6po1dsmhj25b"
                             tableName="language"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-13">
        <dropUniqueConstraint constraintName="UKib8hbu2lm2peqra478nwfgrrm" tableName="invitation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-14">
        <addUniqueConstraint columnNames="code" constraintName="UKib8hbu2lm2peqra478nwfgrrm" tableName="invitation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-15">
        <dropUniqueConstraint constraintName="UKkyxcxq3siw777k16bvlhqydmj" tableName="translation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-16">
        <addUniqueConstraint columnNames="source_id, language_id" constraintName="UKkyxcxq3siw777k16bvlhqydmj"
                             tableName="translation"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-17">
        <dropUniqueConstraint constraintName="api_key_unique" tableName="api_key"/>
    </changeSet>
    <changeSet author="jenik (generated)" id="1585046612602-18">
        <addUniqueConstraint columnNames="key" constraintName="api_key_unique" tableName="api_key"/>
    </changeSet>
</databaseChangeLog>
